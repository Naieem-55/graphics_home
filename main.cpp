#include <glad/glad.h>
#include <GLFW/glfw3.h>

#include <glm/glm.hpp>
#include <glm/gtc/matrix_transform.hpp>
#include <glm/gtc/type_ptr.hpp>

#include <iostream>

using namespace std;

void framebuffer_size_callback(GLFWwindow* window, int width, int height);
void processInput(GLFWwindow* window);

// settings
const unsigned int SCR_WIDTH = 800;
const unsigned int SCR_HEIGHT = 600;
float rotateAngle = 0.0;
float translate_X = 0.0;
float translate_Y = 0.0;
float scale_X = 1.0;
float scale_Y = 1.0;
float posX = 0.0f;
float posY = 0.0f;

// Key callback function
void keyCallback(GLFWwindow* window, int key, int scancode, int action, int mods) {
    if (action == GLFW_PRESS || action == GLFW_REPEAT) {
        if (key == GLFW_KEY_W) {
            posY += 0.1f;  // Move up
            std::cout << "W key pressed! Moving up" << std::endl;
        }
        if (key == GLFW_KEY_S) {
            posY -= 0.1f;  // Move down
            std::cout << "S key pressed! Moving down" << std::endl;
        }
        if (key == GLFW_KEY_A) {
            posX -= 0.1f;  // Move left
            std::cout << "A key pressed! Moving left" << std::endl;
        }
        if (key == GLFW_KEY_D) {
            posX += 0.1f;  // Move right
            std::cout << "D key pressed! Moving right" << std::endl;
        }
        if (key == GLFW_KEY_ESCAPE) {
            glfwSetWindowShouldClose(window, true);  // Close window on ESC press
            std::cout << "Escape key pressed! Exiting." << std::endl;
        }
    }
}


const char* vertexShaderSource = "#version 330 core\n"
"layout (location = 0) in vec3 aPos;\n"
"uniform mat4 transform;\n"
"void main()\n"
"{\n"
"   gl_Position = transform * vec4(aPos, 1.0);\n"
"}\0";
const char* fragmentShaderSource = "#version 330 core\n"
"out vec4 FragColor;\n"
"uniform vec3 color;\n"
"void main()\n"
"{\n"
"   FragColor =vec4(color, 1.0);\n"
"}\n\0";

int main()
{
    // glfw: initialize and configure
    // ------------------------------
    glfwInit();
    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);
    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);
    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);

#ifdef __APPLE__
    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);
#endif

    // glfw window creation
    // --------------------
    GLFWwindow* window = glfwCreateWindow(SCR_WIDTH, SCR_HEIGHT, "CSE 4208: Assignment 1", NULL, NULL);
    if (window == NULL)
    {
        std::cout << "Failed to create GLFW window" << std::endl;
        glfwTerminate();
        return -1;
    }

    glfwMakeContextCurrent(window);
    glfwSetKeyCallback(window, keyCallback);
    glfwSetFramebufferSizeCallback(window, framebuffer_size_callback);

    // glad: load all OpenGL function pointers
    // ---------------------------------------
    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress))
    {
        std::cout << "Failed to initialize GLAD" << std::endl;
        return -1;
    }

    glfwSetKeyCallback(window, keyCallback);

    // build and compile our shader program
    // ------------------------------------
    // vertex shader
    unsigned int vertexShader = glCreateShader(GL_VERTEX_SHADER);
    glShaderSource(vertexShader, 1, &vertexShaderSource, NULL);
    glCompileShader(vertexShader);
    // check for shader compile errors
    int success;
    char infoLog[512];
    glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &success);
    if (!success)
    {
        glGetShaderInfoLog(vertexShader, 512, NULL, infoLog);
        std::cout << "ERROR::SHADER::VERTEX::COMPILATION_FAILED\n" << infoLog << std::endl;
    }
    // fragment shader
    unsigned int fragmentShader = glCreateShader(GL_FRAGMENT_SHADER);
    glShaderSource(fragmentShader, 1, &fragmentShaderSource, NULL);
    glCompileShader(fragmentShader);
    // check for shader compile errors
    glGetShaderiv(fragmentShader, GL_COMPILE_STATUS, &success);
    if (!success)
    {
        glGetShaderInfoLog(fragmentShader, 512, NULL, infoLog);
        std::cout << "ERROR::SHADER::FRAGMENT::COMPILATION_FAILED\n" << infoLog << std::endl;
    }
    // link shaders
    unsigned int shaderProgram = glCreateProgram();
    glAttachShader(shaderProgram, vertexShader);
    glAttachShader(shaderProgram, fragmentShader);
    glLinkProgram(shaderProgram);
    // check for linking errors
    glGetProgramiv(shaderProgram, GL_LINK_STATUS, &success);
    if (!success) {
        glGetProgramInfoLog(shaderProgram, 512, NULL, infoLog);
        std::cout << "ERROR::SHADER::PROGRAM::LINKING_FAILED\n" << infoLog << std::endl;
    }
    glDeleteShader(vertexShader);
    glDeleteShader(fragmentShader);

    // set up vertex data (and buffer(s)) and configure vertex attributes
    // ------------------------------------------------------------------

    //triangle
    float vertices[] = {
0.191700745215941,0.702754306721192,0,
0.208610592610535,0.709034496516151,0,
0.2221327709779,0.717427081403798,0,
0.233959333722802,0.727928499166441,0,
0.247477949872472,0.738426354711389,0,
0.260996566022142,0.748924210256337,0,
0.272830253202433,0.755215086704378,0,
0.28466037816503,0.76361123380972,0,
0.296483378692238,0.776217922229663,0,
0.308317065872529,0.782508798677704,0,
0.318455137430358,0.790908508000741,0,
0.326904717801114,0.797206508884171,0,
0.337046351576637,0.803500947549906,0,
0.348876476539234,0.811897094655248,0,
0.360706601501831,0.82029324176059,0,
0.372533164246733,0.830794659523232,0,
0.38436328920933,0.839190806628574,0,
0.397881905359,0.849688662173522,0,
0.413089012695743,0.862288226158077,0,
0.428299682250181,0.87278251948533,0,
0.443506789586925,0.885382083469885,0,
0.457028967954289,0.893774668357532,0,
0.472236075291033,0.906374232342086,0,
0.48744674484547,0.91686852566934,0,
0.502657414399908,0.927362818996594,0,
0.512795485957737,0.93576252831963,0,
0.526317664325102,0.944155113207278,0,
0.536477109189096,0.939923198586512,0,
0.548335731893247,0.93147718043345,0,
0.560194354597398,0.923031162280389,0,
0.575444208546472,0.910367478377338,0,
0.588998446873085,0.899812627349282,0,
0.604248300822159,0.887148943446231,0,
0.61949459255354,0.876590530200481,0,
0.633045268662458,0.868140949829726,0,
0.649990738233995,0.85336843305168,0,
0.663541414342913,0.844918852680925,0,
0.677095652669526,0.834364001652869,0,
0.694037560023368,0.821696755532124,0,
0.70759179834998,0.811141904504068,0,
0.721146036676593,0.800587053476012,0,
0.734696712785511,0.792137473105256,0,
0.748254513329818,0.779477351419899,0,
0.766888474088428,0.76680654308146,0,
0.782134765819808,0.75624812983571,0,
0.797381057551189,0.74568971658996,0,
0.812630911500263,0.733026032686909,0,
0.826185149826876,0.722471181658853,0,
0.838043772531026,0.714025163505792,0,
0.851598010857639,0.703470312477736,0,
0.861764580157022,0.695027856542369,0,
0.849920206323649,0.695052792066228,0,
0.839767885895042,0.695074165372394,0,
0.822847351847366,0.695109787549336,0,
0.804234764394921,0.695148971943973,0,
0.789006283752012,0.695181031903221,0,
0.767009589490033,0.695227340733246,0,
0.753473162251891,0.6952558384748,0,
0.736552628204215,0.695291460651743,0,
0.721324147561305,0.695323520610991,0,
0.704403613513629,0.695359142787934,0,
0.690867186275487,0.695387640529488,0,
0.673946652227811,0.69542326270643,0,
0.657026118180134,0.695458884883372,0,
0.638413530727689,0.695498069278009,0,
0.621492996680013,0.695533691454952,0,
0.604572462632336,0.695569313631894,0,
0.582575768370356,0.695615622461919,0,
0.56565523432268,0.695651244638862,0,
0.538582379846397,0.69570824012197,0,
0.523353899203488,0.695740300081218,0,
0.506433365155811,0.695775922258161,0,
0.491204884512902,0.695807982217409,0,
0.475976403869993,0.695840042176657,0,
0.460747923227084,0.695872102135905,0,
0.443827389179407,0.695907724312848,0,
0.430290961941266,0.695936222054402,0,
0.411678374488821,0.695975406449038,0,
0.399834000655448,0.696000341972898,0,
0.382913466607771,0.696035964149841,0,
0.369377039369629,0.696064461891395,0,
0.349072398512417,0.696107208503726,0,
0.328767757655205,0.696149955116057,0,
0.305079009988458,0.696199826163776,0,
0.294926689559852,0.696221199469942,0,
0.279698208916943,0.69625325942919,0,
0.262777674869266,0.696288881606132,0,
0.245857140821589,0.696324503783075,0,
0.227244553369145,0.696363688177712,0,
0.210324019321468,0.696399310354654,0,
0.256009461250195,0.696303130476909,0,
0.257726450178823,0.681562673658112,0,
0.257758510138071,0.662615237742408,0,
0.257797694532708,0.639457260512104,0,
0.25783331670965,0.6184045539391,0,
0.257865376668899,0.599457118023396,0,
0.257900998845841,0.578404411450392,0,
0.257929496587395,0.561562246191989,0,
0.257965118764338,0.540509539618985,0,
0.25800074094128,0.519456833045981,0,
0.258029238682834,0.502614667787577,0,
0.258050611988999,0.489983043843775,0,
0.258079109730553,0.473140878585372,0,
0.25811829412519,0.449982901355067,0,
0.258146791866744,0.433140736096664,0,
0.258193100696769,0.405772217551759,0,
0.258228722873712,0.384719510978755,0,
0.258257220615266,0.367877345720351,0,
0.258292842792208,0.346824639147347,0,
0.258335589404539,0.321561391259742,0,
0.258364087146093,0.304719226001339,0,
0.258396147105341,0.285771790085635,0,
0.258424644846895,0.268929624827232,0,
0.260141633775523,0.254189168008435,0,
0.258470953676921,0.241561106282327,0,
0.258492326983086,0.228929482338524,0,
0.258513700289252,0.216297858394722,0,
0.258542198030806,0.199455693136318,0,
0.260244938088656,0.193136318946723,0,
0.272092874139724,0.191006112765563,0,
0.28224519456833,0.190984739459397,0,
0.292397514996936,0.190963366153232,0,
0.302549835425542,0.190941992847066,0,
0.312702155854148,0.190920619540901,0,
0.322854476282754,0.190899246234735,0,
0.33300679671136,0.19087787292857,0,
0.346543223949502,0.190849375187016,0,
0.358387597782875,0.190824439663156,0,
0.371924025021017,0.190795941921602,0,
0.387152505663926,0.190763881962354,0,
0.397304826092532,0.190742508656189,0,
0.409149199925905,0.190717573132329,0,
0.420993573759279,0.190692637608469,0,
0.431145894187885,0.190671264302304,0,
0.444682321426027,0.19064276656075,0,
0.458218748664168,0.190614268819196,0,
0.470063122497542,0.190589333295336,0,
0.481907496330915,0.190564397771476,0,
0.497135976973824,0.190532337812228,0,
0.512364457616734,0.19050027785298,0,
0.52928499166441,0.190464655676037,0,
0.541129365497784,0.190439720152177,0,
0.554665792735925,0.190411222410624,0,
0.568202219974067,0.19038272466907,0,
0.581738647212208,0.190354226927516,0,
0.593583021045582,0.190329291403656,0,
0.605427394878955,0.190304355879796,0,
0.6240399823314,0.190265171485159,0,
0.639268462974309,0.190233111525911,0,
0.654496943617218,0.190201051566663,0,
0.669725424260127,0.190168991607415,0,
0.681569798093501,0.190144056083555,0,
0.695102663113948,0.192220828999301,0,
0.706950599165016,0.190090622818141,0,
0.717102919593622,0.190069249511976,0,
0.730639346831763,0.190040751770422,0,
0.742483720665137,0.190015816246562,0,
0.754328094498511,0.189990880722702,0,
0.767864521736652,0.189962382981148,0,
0.783093002379561,0.1899303230219,0,
0.79832148302247,0.189898263062652,0,
0.798303671933999,0.200424616349154,0,
0.798278736410139,0.215161510950257,0,
0.798250238668585,0.23200367620866,0,
0.798214616491643,0.253056382781664,0,
0.798186118750089,0.269898548040067,0,
0.798150496573146,0.290951254613071,0,
0.798121998831592,0.307793419871475,0,
0.798100625525427,0.320425043815277,0,
0.796376512161411,0.339376041948675,0,
0.796340889984468,0.360428748521679,0,
0.798004445647682,0.377267351562388,0,
0.797972385688434,0.396214787478092,0,
0.797936763511491,0.417267494051096,0,
0.797901141334549,0.4383202006241,0,
0.796180590188227,0.455165928100198,0,
0.797833459198358,0.478320343112808,0,
0.797794274803721,0.501478320343112,0,
0.797755090409085,0.524636297573417,0,
0.797719468232142,0.545689004146421,0,
0.797680283837506,0.568846981376725,0,
0.797644661660563,0.58989968794973,0,
0.797616163919009,0.606741853208133,0,
0.797580541742067,0.627794559781137,0,
0.797548481782818,0.646741995696841,0,
0.797523546258959,0.661478890297943,0,
0.795802995112637,0.678324617774041,0,
0.797466550775851,0.69516322081475,0,
0.322320143628617,0.506689844829797,0,
0.332472464057223,0.506668471523631,0,
0.342624784485829,0.506647098217466,0,
0.352777104914435,0.5066257249113,0,
0.362929425343041,0.506604351605135,0,
0.373081745771647,0.506582978298969,0,
0.386618173009789,0.506554480557415,0,
0.395078440033627,0.506536669468944,0,
0.406922813867001,0.506511733945084,0,
0.42215129450991,0.506479673985836,0,
0.440763881962354,0.506440489591199,0,
0.454300309200495,0.506411991849645,0,
0.457716475969279,0.487457431498553,0,
0.459440589333295,0.468506433365155,0,
0.459476211510237,0.447453726792151,0,
0.459508271469486,0.428506290876448,0,
0.459540331428734,0.409558854960744,0,
0.461260882575056,0.392713127484646,0,
0.461285818098915,0.377976232883544,0,
0.447749390860774,0.378004730625097,0,
0.437597070432168,0.378026103931263,0,
0.425752696598794,0.378051039455123,0,
0.417292429574956,0.378068850543594,0,
0.408832162551117,0.378086661632065,0,
0.396987788717744,0.378111597155925,0,
0.386835468289138,0.37813297046209,0,
0.373299041050996,0.378161468203644,0,
0.36314672062239,0.37818284150981,0,
0.352997962411478,0.376098944158675,0,
0.342845641982872,0.37612031746484,0,
0.329309214744731,0.376148815206394,0,
0.324222367877345,0.382475313831379,0,
0.32420099457118,0.395106937775181,0,
0.324179621265014,0.407738561718983,0,
0.324158247958849,0.420370185662786,0,
0.324133312434989,0.435107080263889,0,
0.324097690258047,0.456159786836893,0,
0.324079879169575,0.466686140123395,0,
0.324051381428021,0.483528305381798,0,
0.324026445904162,0.498265199982901,0,
0.594740741796212,0.506116327781023,0,
0.608280731252048,0.503982559382169,0,
0.621817158490189,0.503954061640615,0,
0.635353585728331,0.503925563899061,0,
0.65058206637124,0.503893503939812,0,
0.664118493609381,0.503865006198258,0,
0.679343412034596,0.50593821689631,0,
0.692879839272737,0.505909719154757,0,
0.704724213106111,0.505884783630897,0,
0.714880095752411,0.503758139667431,0,
0.725028853963323,0.505842037018566,0,
0.731797067582394,0.505827788147789,0,
0.731825565323948,0.488985622889386,0,
0.731854063065502,0.472143457630982,0,
0.73188612302475,0.453196021715279,0,
0.73191105854861,0.438459127114176,0,
0.733631609694931,0.421613399638078,0,
0.733660107436485,0.404771234379675,0,
0.735380658582807,0.387925506903577,0,
0.735394907453584,0.379504424274376,0,
0.728626693834513,0.379518673145153,0,
0.720166426810675,0.379536484233624,0,
0.708322052977301,0.379561419757484,0,
0.698173294766389,0.377477522406349,0,
0.684636867528248,0.377506020147903,0,
0.671096878072412,0.379639788546757,0,
0.660944557643806,0.379661161852923,0,
0.649100183810433,0.379686097376782,0,
0.632179649762756,0.379721719553725,0,
0.622030891551844,0.37763782220259,0,
0.606802410908935,0.377669882161838,0,
0.598342143885097,0.377687693250309,0,
0.596625154956469,0.392428150069107,0,
0.596596657214915,0.40927031532751,0,
0.596564597255667,0.428217751243213,0,
0.596532537296419,0.447165187158917,0,
0.596500477337171,0.466112623074621,0,
0.596468417377922,0.485060058990325,0,
0.596447044071757,0.497691682934127,0,
0.488632963337655,0.215813396788304,0,
0.488608027813795,0.230550291389407,0,
0.488583092289936,0.24528718599051,0,
0.488551032330687,0.264234621906213,0,
0.488518972371439,0.283182057821917,0,
0.488494036847579,0.29791895242302,0,
0.488454852452943,0.321076929653325,0,
0.488422792493694,0.340024365569028,0,
0.498578675139995,0.337897721605562,0,
0.508730995568601,0.337876348299397,0,
0.518883315997207,0.337854974993231,0,
0.532419743235348,0.337826477251677,0,
0.542572063663954,0.337805103945512,0,
0.55272438409256,0.337783730639346,0,
0.566264373548396,0.335649962240492,0,
0.579797238568843,0.337726735156238,0,
0.579822174092703,0.322989840555136,0,
0.579847109616562,0.308252945954033,0,
0.579872045140422,0.29351605135293,0,
0.57990410509967,0.274568615437226,0,
0.579932602841224,0.257726450178823,0,
0.579961100582778,0.24088428492042,0,
0.579986036106638,0.226147390319317,0,
0.580018096065886,0.207199954403613,0,

// for roof triangle
0.191700745215941, 0.702754306721192, 0,
0.208610592610535, 0.709034496516151, 0,
0.2221327709779, 0.717427081403798, 0,
0.233959333722802, 0.727928499166441, 0,
0.247477949872472, 0.738426354711389, 0,
0.260996566022142, 0.748924210256337, 0,
0.272830253202433, 0.755215086704378, 0,
0.28466037816503, 0.76361123380972, 0,
0.296483378692238, 0.776217922229663, 0,
0.308317065872529, 0.782508798677704, 0,
0.318455137430358, 0.790908508000741, 0,
0.326904717801114, 0.797206508884171, 0,
0.337046351576637, 0.803500947549906, 0,
0.348876476539234, 0.811897094655248, 0,
0.360706601501831, 0.82029324176059, 0,
0.372533164246733, 0.830794659523232, 0,
0.38436328920933, 0.839190806628574, 0,
0.397881905359, 0.849688662173522, 0,
0.413089012695743, 0.862288226158077, 0,
0.428299682250181, 0.87278251948533, 0,
0.443506789586925, 0.885382083469885, 0,
0.457028967954289, 0.893774668357532, 0,
0.472236075291033, 0.906374232342086, 0,
0.48744674484547, 0.91686852566934, 0,
0.502657414399908, 0.927362818996594, 0,
0.512795485957737, 0.93576252831963, 0,
0.526317664325102, 0.944155113207278, 0,
0.536477109189096, 0.939923198586512, 0,
0.548335731893247, 0.93147718043345, 0,
0.560194354597398, 0.923031162280389, 0,
0.575444208546472, 0.910367478377338, 0,
0.588998446873085, 0.899812627349282, 0,
0.604248300822159, 0.887148943446231, 0,
0.61949459255354, 0.876590530200481, 0,
0.633045268662458, 0.868140949829726, 0,
0.649990738233995, 0.85336843305168, 0,
0.663541414342913, 0.844918852680925, 0,
0.677095652669526, 0.834364001652869, 0,
0.694037560023368, 0.821696755532124, 0,
0.70759179834998, 0.811141904504068, 0,
0.721146036676593, 0.800587053476012, 0,
0.734696712785511, 0.792137473105256, 0,
0.748254513329818, 0.779477351419899, 0,
0.766888474088428, 0.76680654308146, 0,
0.782134765819808, 0.75624812983571, 0,
0.797381057551189, 0.74568971658996, 0,
0.812630911500263, 0.733026032686909, 0,
0.826185149826876, 0.722471181658853, 0,
0.838043772531026, 0.714025163505792, 0,
0.851598010857639, 0.703470312477736, 0,
0.861764580157022, 0.695027856542369, 0,
0.849920206323649, 0.695052792066228, 0,
0.839767885895042, 0.695074165372394, 0,
0.822847351847366, 0.695109787549336, 0,
0.804234764394921, 0.695148971943973, 0,
0.789006283752012, 0.695181031903221, 0,
0.767009589490033, 0.695227340733246, 0,
0.753473162251891, 0.6952558384748, 0,
0.736552628204215, 0.695291460651743, 0,
0.721324147561305, 0.695323520610991, 0,
0.704403613513629, 0.695359142787934, 0,
0.690867186275487, 0.695387640529488, 0,
0.673946652227811, 0.69542326270643, 0,
0.657026118180134, 0.695458884883372, 0,
0.638413530727689, 0.695498069278009, 0,
0.621492996680013, 0.695533691454952, 0,
0.604572462632336, 0.695569313631894, 0,
0.582575768370356, 0.695615622461919, 0,
0.56565523432268, 0.695651244638862, 0,
0.538582379846397, 0.69570824012197, 0,
0.523353899203488, 0.695740300081218, 0,
0.506433365155811, 0.695775922258161, 0,
0.491204884512902, 0.695807982217409, 0,
0.475976403869993, 0.695840042176657, 0,
0.460747923227084, 0.695872102135905, 0,
0.443827389179407, 0.695907724312848, 0,
0.430290961941266, 0.695936222054402, 0,
0.411678374488821, 0.695975406449038, 0,
0.399834000655448, 0.696000341972898, 0,
0.382913466607771, 0.696035964149841, 0,
0.369377039369629, 0.696064461891395, 0,
0.349072398512417, 0.696107208503726, 0,
0.328767757655205, 0.696149955116057, 0,
0.305079009988458, 0.696199826163776, 0,
0.294926689559852, 0.696221199469942, 0,
0.279698208916943, 0.69625325942919, 0,
0.262777674869266, 0.696288881606132, 0,
0.245857140821589, 0.696324503783075, 0,
0.227244553369145, 0.696363688177712, 0,
0.210324019321468, 0.696399310354654, 0,
0.256009461250195, 0.696303130476909, 0,

// for wall with ground
0.257726450178823, 0.681562673658112, 0,
0.257758510138071, 0.662615237742408, 0,
0.257797694532708, 0.639457260512104, 0,
0.25783331670965, 0.6184045539391, 0,
0.257865376668899, 0.599457118023396, 0,
0.257900998845841, 0.578404411450392, 0,
0.257929496587395, 0.561562246191989, 0,
0.257965118764338, 0.540509539618985, 0,
0.25800074094128, 0.519456833045981, 0,
0.258029238682834, 0.502614667787577, 0,
0.258050611988999, 0.489983043843775, 0,
0.258079109730553, 0.473140878585372, 0,
0.25811829412519, 0.449982901355067, 0,
0.258146791866744, 0.433140736096664, 0,
0.258193100696769, 0.405772217551759, 0,
0.258228722873712, 0.384719510978755, 0,
0.258257220615266, 0.367877345720351, 0,
0.258292842792208, 0.346824639147347, 0,
0.258335589404539, 0.321561391259742, 0,
0.258364087146093, 0.304719226001339, 0,
0.258396147105341, 0.285771790085635, 0,
0.258424644846895, 0.268929624827232, 0,
0.260141633775523, 0.254189168008435, 0,
0.258470953676921, 0.241561106282327, 0,
0.258492326983086, 0.228929482338524, 0,
0.258513700289252, 0.216297858394722, 0,
0.258542198030806, 0.199455693136318, 0,
0.260244938088656, 0.193136318946723, 0,
0.272092874139724, 0.191006112765563, 0,
0.28224519456833, 0.190984739459397, 0,
0.292397514996936, 0.190963366153232, 0,
0.302549835425542, 0.190941992847066, 0,
0.312702155854148, 0.190920619540901, 0,
0.322854476282754, 0.190899246234735, 0,
0.33300679671136, 0.19087787292857, 0,
0.346543223949502, 0.190849375187016, 0,
0.358387597782875, 0.190824439663156, 0,
0.371924025021017, 0.190795941921602, 0,
0.387152505663926, 0.190763881962354, 0,
0.397304826092532, 0.190742508656189, 0,
0.409149199925905, 0.190717573132329, 0,
0.420993573759279, 0.190692637608469, 0,
0.431145894187885, 0.190671264302304, 0,
0.444682321426027, 0.19064276656075, 0,
0.458218748664168, 0.190614268819196, 0,
0.470063122497542, 0.190589333295336, 0,
0.481907496330915, 0.190564397771476, 0,
0.497135976973824, 0.190532337812228, 0,
0.512364457616734, 0.19050027785298, 0,
0.52928499166441, 0.190464655676037, 0,
0.541129365497784, 0.190439720152177, 0,
0.554665792735925, 0.190411222410624, 0,
0.568202219974067, 0.19038272466907, 0,
0.581738647212208, 0.190354226927516, 0,
0.593583021045582, 0.190329291403656, 0,
0.605427394878955, 0.190304355879796, 0,
0.6240399823314, 0.190265171485159, 0,
0.639268462974309, 0.190233111525911, 0,
0.654496943617218, 0.190201051566663, 0,
0.669725424260127, 0.190168991607415, 0,
0.681569798093501, 0.190144056083555, 0,
0.695102663113948, 0.192220828999301, 0,
0.706950599165016, 0.190090622818141, 0,
0.717102919593622, 0.190069249511976, 0,
0.730639346831763, 0.190040751770422, 0,
0.742483720665137, 0.190015816246562, 0,
0.754328094498511, 0.189990880722702, 0,
0.767864521736652, 0.189962382981148, 0,
0.783093002379561, 0.1899303230219, 0,
0.79832148302247, 0.189898263062652, 0,
0.798303671933999, 0.200424616349154, 0,
0.798278736410139, 0.215161510950257, 0,
0.798250238668585, 0.23200367620866, 0,
0.798214616491643, 0.253056382781664, 0,
0.798186118750089, 0.269898548040067, 0,
0.798150496573146, 0.290951254613071, 0,
0.798121998831592, 0.307793419871475, 0,
0.798100625525427, 0.320425043815277, 0,
0.796376512161411, 0.339376041948675, 0,
0.796340889984468, 0.360428748521679, 0,
0.798004445647682, 0.377267351562388, 0,
0.797972385688434, 0.396214787478092, 0,
0.797936763511491, 0.417267494051096, 0,
0.797901141334549, 0.4383202006241, 0,
0.796180590188227, 0.455165928100198, 0,
0.797833459198358, 0.478320343112808, 0,
0.797794274803721, 0.501478320343112, 0,
0.797755090409085, 0.524636297573417, 0,
0.797719468232142, 0.545689004146421, 0,
0.797680283837506, 0.568846981376725, 0,
0.797644661660563, 0.58989968794973, 0,
0.797616163919009, 0.606741853208133, 0,
0.797580541742067, 0.627794559781137, 0,
0.797548481782818, 0.646741995696841, 0,
0.797523546258959, 0.661478890297943, 0,
0.795802995112637, 0.678324617774041, 0,
0.797466550775851, 0.69516322081475, 0,

// left window
0.322320143628617, 0.506689844829797, 0,
0.332472464057223, 0.506668471523631, 0,
0.342624784485829, 0.506647098217466, 0,
0.352777104914435, 0.5066257249113, 0,
0.362929425343041, 0.506604351605135, 0,
0.373081745771647, 0.506582978298969, 0,
0.386618173009789, 0.506554480557415, 0,
0.395078440033627, 0.506536669468944, 0,
0.406922813867001, 0.506511733945084, 0,
0.42215129450991, 0.506479673985836, 0,
0.440763881962354, 0.506440489591199, 0,
0.454300309200495, 0.506411991849645, 0,
0.457716475969279, 0.487457431498553, 0,
0.459440589333295, 0.468506433365155, 0,
0.459476211510237, 0.447453726792151, 0,
0.459508271469486, 0.428506290876448, 0,
0.459540331428734, 0.409558854960744, 0,
0.461260882575056, 0.392713127484646, 0,
0.461285818098915, 0.377976232883544, 0,
0.447749390860774, 0.378004730625097, 0,
0.437597070432168, 0.378026103931263, 0,
0.425752696598794, 0.378051039455123, 0,
0.417292429574956, 0.378068850543594, 0,
0.408832162551117, 0.378086661632065, 0,
0.396987788717744, 0.378111597155925, 0,
0.386835468289138, 0.37813297046209, 0,
0.373299041050996, 0.378161468203644, 0,
0.36314672062239, 0.37818284150981, 0,
0.352997962411478, 0.376098944158675, 0,
0.342845641982872, 0.37612031746484, 0,
0.329309214744731, 0.376148815206394, 0,
0.324222367877345, 0.382475313831379, 0,
0.32420099457118, 0.395106937775181, 0,
0.324179621265014, 0.407738561718983, 0,
0.324158247958849, 0.420370185662786, 0,
0.324133312434989, 0.435107080263889, 0,
0.324097690258047, 0.456159786836893, 0,
0.324079879169575, 0.466686140123395, 0,
0.324051381428021, 0.483528305381798, 0,
0.324026445904162, 0.498265199982901, 0,
0.594740741796212, 0.506116327781023, 0,

// right wall
0.608280731252048, 0.503982559382169, 0,
0.621817158490189, 0.503954061640615, 0,
0.635353585728331, 0.503925563899061, 0,
0.65058206637124, 0.503893503939812, 0,
0.664118493609381, 0.503865006198258, 0,
0.679343412034596, 0.50593821689631, 0,
0.692879839272737, 0.505909719154757, 0,
0.704724213106111, 0.505884783630897, 0,
0.714880095752411, 0.503758139667431, 0,
0.725028853963323, 0.505842037018566, 0,
0.731797067582394, 0.505827788147789, 0,
0.731825565323948, 0.488985622889386, 0,
0.731854063065502, 0.472143457630982, 0,
0.73188612302475, 0.453196021715279, 0,
0.73191105854861, 0.438459127114176, 0,
0.733631609694931, 0.421613399638078, 0,
0.733660107436485, 0.404771234379675, 0,
0.735380658582807, 0.387925506903577, 0,
0.735394907453584, 0.379504424274376, 0,
0.728626693834513, 0.379518673145153, 0,
0.720166426810675, 0.379536484233624, 0,
0.708322052977301, 0.379561419757484, 0,
0.698173294766389, 0.377477522406349, 0,
0.684636867528248, 0.377506020147903, 0,
0.671096878072412, 0.379639788546757, 0,
0.660944557643806, 0.379661161852923, 0,
0.649100183810433, 0.379686097376782, 0,
0.632179649762756, 0.379721719553725, 0,
0.622030891551844, 0.37763782220259, 0,
0.606802410908935, 0.377669882161838, 0,
0.598342143885097, 0.377687693250309, 0,
0.596625154956469, 0.392428150069107, 0,
0.596596657214915, 0.40927031532751, 0,
0.596564597255667, 0.428217751243213, 0,
0.596532537296419, 0.447165187158917, 0,
0.596500477337171, 0.466112623074621, 0,
0.596468417377922, 0.485060058990325, 0,
0.596447044071757, 0.497691682934127, 0,
0.488632963337655, 0.215813396788304, 0,

// door
0.488608027813795, 0.230550291389407, 0,
0.488583092289936, 0.24528718599051, 0,
0.488551032330687, 0.264234621906213, 0,
0.488518972371439, 0.283182057821917, 0,
0.488494036847579, 0.29791895242302, 0,
0.488454852452943, 0.321076929653325, 0,
0.488422792493694, 0.340024365569028, 0,
0.498578675139995, 0.337897721605562, 0,
0.508730995568601, 0.337876348299397, 0,
0.518883315997207, 0.337854974993231, 0,
0.532419743235348, 0.337826477251677, 0,
0.542572063663954, 0.337805103945512, 0,
0.55272438409256, 0.337783730639346, 0,
0.566264373548396, 0.335649962240492, 0,
0.579797238568843, 0.337726735156238, 0,
0.579822174092703, 0.322989840555136, 0,
0.579847109616562, 0.308252945954033, 0,
0.579872045140422, 0.29351605135293, 0,
0.57990410509967, 0.274568615437226, 0,
0.579932602841224, 0.257726450178823, 0,
0.579961100582778, 0.24088428492042, 0,
0.579986036106638, 0.226147390319317, 0,
0.580018096065886, 0.207199954403613, 0

    };

    unsigned int VBO, VAO;
    glGenVertexArrays(1, &VAO);
    glGenBuffers(1, &VBO);
    // bind the Vertex Array Object first, then bind and set vertex buffer(s), and then configure vertex attributes(s).
    glBindVertexArray(VAO);

    glBindBuffer(GL_ARRAY_BUFFER, VBO);
    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);

    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);
    glEnableVertexAttribArray(0);

    // note that this is allowed, the call to glVertexAttribPointer registered VBO as the vertex attribute's bound vertex buffer object so afterwards we can safely unbind
    glBindBuffer(GL_ARRAY_BUFFER, 0);

    // You can unbind the VAO afterwards so other VAO calls won't accidentally modify this VAO, but this rarely happens. Modifying other
    // VAOs requires a call to glBindVertexArray anyways so we generally don't unbind VAOs (nor VBOs) when it's not directly necessary.
    glBindVertexArray(0);


    // uncomment this call to draw in wireframe polygons.
    //glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);

    // render loop
    // -----------
    while (!glfwWindowShouldClose(window))
    {
        // input
        // -----
        processInput(window);

        // render
        // ------
        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);
        glClear(GL_COLOR_BUFFER_BIT);

        // create transformations
        /*glm::mat4 trans = glm::mat4(1.0f); // make sure to initialize matrix to identity matrix first
        trans = glm::translate(trans, glm::vec3(translate_X, translate_Y, 0.0f));
        trans = glm::rotate(trans, glm:: radians(rotateAngle), glm::vec3(0.0f, 0.0f, 1.0f));
        trans = glm::scale(trans,glm::vec3(scale_X, scale_Y, 1.0));*/
        glm::mat4 translationMatrix;
        glm::mat4 rotationMatrix;
        glm::mat4 scaleMatrix;
        glm::mat4 modelMatrix;
        glm::mat4 identityMatrix = glm::mat4(1.0f);
        //translationMatrix = glm::translate(identityMatrix, glm::vec3(translate_X, translate_Y, 0.0f));
        //rotationMatrix = glm::rotate(identityMatrix, glm::radians(rotateAngle), glm::vec3(0.0f, 0.0f, 1.0f));
        //scaleMatrix = glm::scale(identityMatrix, glm::vec3(scale_X, scale_Y, 1.0f));
        translationMatrix = glm::translate(identityMatrix, glm::vec3(-0.6, -0.4, 0.0f));
        rotationMatrix = glm::rotate(identityMatrix, glm::radians(0.0f), glm::vec3(0.0f, 0.0f, 1.0f));
        scaleMatrix = glm::scale(identityMatrix, glm::vec3(1.2, 1.5, 1.0f));
        modelMatrix = scaleMatrix * translationMatrix * rotationMatrix ;

        // get matrix's uniform location and set matrix
        glUseProgram(shaderProgram);
        unsigned int transformLoc = glGetUniformLocation(shaderProgram, "transform");
        glUniformMatrix4fv(transformLoc, 1, GL_FALSE, glm::value_ptr(modelMatrix));

        // draw our first triangle
        glBindVertexArray(VAO); // seeing as we only have a single VAO there's no need to bind it every time, but we'll do so to keep things a bit more organized
        //glDrawArrays(GL_LINES, 0, 6);
        //glDrawArrays(GL_LINE_STRIP, 0, 6);
        //glDrawArrays(GL_LINE_LOOP, 0, 6);
        //glDrawArrays(GL_TRIANGLES, 0, 6);
        //glDrawArrays(GL_TRIANGLE_STRIP, 0, 6);
        //glDrawArrays(GL_TRIANGLE_FAN, 0, 6);

        GLuint colorLocation = glGetUniformLocation(shaderProgram, "color");

        // Activate the shader program
        glUseProgram(shaderProgram);
        glDrawArrays(GL_LINE_LOOP, 0, 90);               // upper triangle    -> 0 to 90
        glUniform3f(colorLocation, 0.4f, 0.7f, 1.0f);
        glDrawArrays(GL_TRIANGLE_FAN, 91, 98);              // wall with ground -> 91 to 187
        glDrawArrays(GL_LINE_LOOP, 188, 40);             // left window       -> 188 to 228
        glDrawArrays(GL_LINE_LOOP, 229, 38);             // right window      -> 229 to 267
        glDrawArrays(GL_LINE_LOOP, 268, 22);             // door             -> 268 to 290 


        // Set color for the first section
        glUniform3f(colorLocation, 0.6f, 0.2f, 0.2f);  // roof color
        glDrawArrays(GL_TRIANGLE_FAN, 292, 90);

        glUniform3f(colorLocation, 0.4f, 0.7f, 1.0f);  // wall color
        glDrawArrays(GL_TRIANGLE_FAN, 383, 96);

        glUniform3f(colorLocation, 1.0f, 0.9f, 0.7f);  // left window color
        glDrawArrays(GL_TRIANGLE_FAN, 480, 39);

        glUniform3f(colorLocation, 1.0f, 0.9f, 0.7f);  // right window color
        glDrawArrays(GL_TRIANGLE_FAN, 520, 38);

        glUniform3f(colorLocation, 0.4f, 0.2f, 0.1f);  // door color
        glDrawArrays(GL_TRIANGLE_FAN, 559, 22);
        // glBindVertexArray(0); // no need to unbind it every time

        // glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)
        // -------------------------------------------------------------------------------
        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    // optional: de-allocate all resources once they've outlived their purpose:
    // ------------------------------------------------------------------------
    glDeleteVertexArrays(1, &VAO);
    glDeleteBuffers(1, &VBO);
    glDeleteProgram(shaderProgram);

    // glfw: terminate, clearing all previously allocated GLFW resources.
    // ------------------------------------------------------------------
    glfwTerminate();
    return 0;
}

// process all input: query GLFW whether relevant keys are pressed/released this frame and react accordingly
// ---------------------------------------------------------------------------------------------------------
void processInput(GLFWwindow* window)
{
    if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)
        glfwSetWindowShouldClose(window, true);
}

// glfw: whenever the window size changed (by OS or user resize) this callback function executes
// ---------------------------------------------------------------------------------------------
void framebuffer_size_callback(GLFWwindow* window, int width, int height)
{
    // make sure the viewport matches the new window dimensions; note that width and
    // height will be significantly larger than specified on retina displays.
    glViewport(0, 0, width, height);
}